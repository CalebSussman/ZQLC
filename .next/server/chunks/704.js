exports.id=704,exports.ids=[704],exports.modules={7269:(e,t,s)=>{Promise.resolve().then(s.bind(s,6378))},9842:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},6378:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var a=s(5344),l=s(8428),r=s(3729),n=s(2829);let i=[{key:"C",label:"Create",path:"/"},{key:"B",label:"Browse",path:"/browse"},{key:"T",label:"Todo",path:"/todo"},{key:"L",label:"Log",path:"/log"}];function o(){let e=(0,l.usePathname)(),t=(0,l.useRouter)(),[s,o]=(0,r.useState)(!1),[c,d]=(0,r.useState)(!1),[m,x]=(0,r.useState)(""),[h,u]=(0,r.useState)([]),[f,y]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=()=>o(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.useEffect)(()=>{let e=e=>{(e.ctrlKey||e.metaKey)&&"k"===e.key&&(e.preventDefault(),d(!0)),c&&"Escape"===e.key&&(d(!1),x(""),u([]))};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[c]),(0,r.useEffect)(()=>{let e=setTimeout(async()=>{if(!m.trim()){u([]),y(!1);return}y(!0);try{let{data:e}=await n.O.from("task_details").select("*").or(`title.ilike.%${m}%,code.ilike.%${m}%,base_code.ilike.%${m}%,display_code.ilike.%${m}%`).limit(10),{data:t}=await n.O.from("task_notes").select(`
            task_id,
            content,
            tasks!inner(*)
          `).ilike("content",`%${m}%`).limit(5),s=[...e||[]];if(t)for(let e of t){let t=e.tasks;if(t&&!s.find(e=>e.id===t.id)){let{data:e}=await n.O.from("task_details").select("*").eq("id",t.id).single();e&&s.push(e)}}u(s.slice(0,10))}catch(e){console.error("Search error:",e),u([])}finally{y(!1)}},300);return()=>clearTimeout(e)},[m]);let p=e=>{d(!1),x(""),u([]),t.push(`/t/${e.base_code?.toLowerCase()}`)},b=()=>c&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-start justify-center pt-16 sm:pt-32",onClick:()=>{d(!1),x(""),u([])},children:(0,a.jsxs)("div",{className:"bg-gray-900 border border-gray-700 rounded-lg w-full max-w-2xl shadow-2xl max-h-96 flex flex-col mx-4 sm:mx-0",onClick:e=>e.stopPropagation(),children:[a.jsx("div",{className:"p-4 border-b border-gray-700",children:a.jsx("input",{type:"text",placeholder:"Search tasks, codes, or commands...",className:"w-full bg-transparent text-white font-mono text-lg focus:outline-none",autoFocus:!0,value:m,onChange:e=>x(e.target.value),onKeyDown:e=>{"Escape"===e.key&&(d(!1),x(""),u([])),"Enter"===e.key&&h.length>0&&p(h[0])}})}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[f&&a.jsx("div",{className:"p-4 text-gray-500 font-mono text-sm text-center",children:"Searching..."}),!f&&m&&0===h.length&&a.jsx("div",{className:"p-4 text-gray-500 font-mono text-sm text-center",children:"No results found"}),!f&&h.length>0&&a.jsx("div",{className:"py-2",children:h.map((e,t)=>a.jsx("button",{onClick:()=>p(e),className:"w-full text-left px-4 py-3 hover:bg-gray-800 font-mono border-b border-gray-700 last:border-b-0",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"text-white font-bold text-sm sm:text-base",children:[e.display_code||e.base_code," - ",e.title]}),(0,a.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:[e.universe_name," "," > "," ",e.phylum_name,e.family_name&&` > ${e.family_name}`," "," > "," ",e.group_name]}),e.current_status_name&&(0,a.jsxs)("div",{className:"text-xs text-yellow-400 mt-1",children:["Status: ",e.current_status_name]})]}),a.jsx("div",{className:"text-gray-500 text-xs ml-4 hidden sm:block",children:0===t&&"Enter"})]})},e.id))}),!m&&(0,a.jsxs)("div",{className:"p-4 text-gray-500 font-mono text-sm",children:[a.jsx("p",{children:"Type to search across all tasks and categories"}),a.jsx("p",{className:"mt-2",children:"• Search by task title, code, or notes"}),a.jsx("p",{children:"• Press Enter to open first result"}),a.jsx("p",{children:"• Press ESC to close"})]})]})]})});return s?(0,a.jsxs)(a.Fragment,{children:[a.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-gray-900 border-t border-gray-700 z-50",children:(0,a.jsxs)("div",{className:"flex justify-around items-center h-16",children:[i.map(s=>{let l=e===s.path;return(0,a.jsxs)("button",{onClick:()=>t.push(s.path),className:`flex flex-col items-center justify-center w-full h-full transition-colors ${l?"text-yellow-400 bg-gray-800":"text-gray-400 hover:text-gray-200 hover:bg-gray-800"}`,children:[a.jsx("span",{className:"text-2xl font-mono font-bold",children:s.key}),a.jsx("span",{className:"text-xs mt-1",children:s.label}),l&&a.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-yellow-400"})]},s.key)}),(0,a.jsxs)("button",{onClick:()=>d(!0),className:"flex flex-col items-center justify-center w-full h-full text-gray-400 hover:text-gray-200 hover:bg-gray-800 transition-colors",children:[a.jsx("span",{className:"text-2xl font-mono font-bold",children:"S"}),a.jsx("span",{className:"text-xs mt-1",children:"Search"})]})]})}),a.jsx("div",{className:"h-16"})," ",a.jsx(b,{})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx("nav",{className:"fixed left-0 top-0 h-full w-64 bg-gray-900 border-r border-gray-700 z-50",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-mono font-bold text-yellow-400",children:"ATOL_"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1 font-mono",children:"SEMANTIC LEDGER"})]}),a.jsx("div",{className:"space-y-2",children:i.map(s=>{let l=e===s.path;return(0,a.jsxs)("button",{onClick:()=>t.push(s.path),className:`w-full text-left px-4 py-3 rounded-lg transition-all font-mono ${l?"bg-gradient-to-r from-blue-600 to-blue-700 text-white":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:[l&&a.jsx("span",{className:"mr-2",children:">"}),a.jsx("span",{className:"font-bold text-yellow-400",children:s.key}),a.jsx("span",{className:"ml-1",children:s.label.slice(1)})]},s.key)})}),a.jsx("div",{className:"my-6 border-t border-gray-700"}),(0,a.jsxs)("button",{onClick:()=>d(!0),className:"w-full text-left px-4 py-3 rounded-lg text-gray-400 hover:bg-gray-800 hover:text-white transition-all font-mono",children:[a.jsx("span",{className:"font-bold text-yellow-400",children:"S"}),a.jsx("span",{className:"ml-1",children:"earch"}),a.jsx("span",{className:"float-right text-xs bg-gray-800 px-2 py-1 rounded",children:"ctrl+k"})]})]})}),a.jsx("div",{className:"w-64"})," ",a.jsx(b,{})]})}function c({children:e}){return(0,a.jsxs)("div",{className:"flex",children:[a.jsx(o,{}),a.jsx("main",{className:"flex-1",children:e})]})}},2829:(e,t,s)=>{"use strict";s.d(t,{O:()=>a});let a=(0,s(9072).eI)("https://ofiindxmfiptivijhbdi.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9maWluZHhtZmlwdGl2aWpoYmRpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgzOTU4MjEsImV4cCI6MjA3Mzk3MTgyMX0.P9Qmhha1EL7X0uQ8CiUF6LXWqBCQt1pJwg3cmcHkfR0")},6680:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c,metadata:()=>o});var a=s(5036);s(7272);let l=(0,s(6843).createProxy)(String.raw`/workspaces/ZQLC/components/ClientLayout.tsx`),{__esModule:r,$$typeof:n}=l,i=l.default,o={title:"ATOL - Semantic Task Ledger",description:"Task management system with structured semantic codes"};function c({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:"min-h-screen bg-[#F8F7F4] dark:bg-[#0A0A0B] text-[#1A1A1A] dark:text-[#E8E6E3]",children:a.jsx(i,{children:e})})})}},7272:()=>{}};