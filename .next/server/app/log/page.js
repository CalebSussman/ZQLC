(()=>{var e={};e.id=19,e.ids=[19],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},9819:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>g,pages:()=>c,routeModule:()=>x,tree:()=>d});var a=r(482),s=r(9108),n=r(2563),o=r.n(n),l=r(8300),i={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);r.d(t,i);let d=["",{children:["log",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,5849)),"/workspaces/ZQLC/app/log/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,6680)),"/workspaces/ZQLC/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9361,23)),"next/dist/client/components/not-found-error"]}],c=["/workspaces/ZQLC/app/log/page.tsx"],g="/log/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/log/page",pathname:"/log",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4443:(e,t,r)=>{Promise.resolve().then(r.bind(r,1255))},1255:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(5344),s=r(3729),n=r.n(s),o=r(2829),l=r(3313);function i(){let[e,t]=(0,s.useState)(new Date),[r,i]=(0,s.useState)("daily"),[d,c]=(0,s.useState)([]),[g,m]=(0,s.useState)([]),[x,u]=(0,s.useState)([]),[b,h]=(0,s.useState)([]),[y,p]=(0,s.useState)(!1),[k,f]=(0,s.useState)(!1),[v,j]=(0,s.useState)(!1),[w,N]=(0,s.useState)(null),[_,S]=(0,s.useState)(null),[$,D]=(0,s.useState)(null),[O,E]=(0,s.useState)({x:0,y:0}),[C,A]=(0,s.useState)(null),[L,T]=(0,s.useState)({isDragging:!1,dragType:null,draggedItem:null,startPosition:{x:0,y:0},currentPosition:{x:0,y:0}}),[M,P]=(0,s.useState)(!1),[q,U]=(0,s.useState)(""),[W,Y]=(0,s.useState)([]),[F,z]=(0,s.useState)(""),[R,I]=(0,s.useState)("step"),[J,X]=(0,s.useState)(!1),[G,H]=(0,s.useState)(""),[K,B]=(0,s.useState)(null),[Q,Z]=(0,s.useState)(!1),[V,ee]=(0,s.useState)("SOA"),et=(0,s.useRef)(null),er=(0,s.useRef)(null);(0,s.useEffect)(()=>{p(!0);let e=()=>f(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,s.useEffect)(()=>{y&&("daily"===r?ei():"weekly"===r?ed():"monthly"===r&&ec(),eg())},[e,r,y]);let ea=e=>{let t=new Date(e);t.setDate(e.getDate()-e.getDay());let r=new Date(t);return r.setDate(t.getDate()+6),{start:t,end:r}},es=e=>({start:new Date(e.getFullYear(),e.getMonth(),1),end:new Date(e.getFullYear(),e.getMonth()+1,0)}),en=e=>{let t=new Date(e.getFullYear(),0,1);return Math.floor((e.getTime()-t.getTime())/6048e5)+1},eo=e=>{let{start:t,end:r}=ea(e),a=t.toLocaleDateString("en-US",{month:"short",day:"numeric"}),s=r.toLocaleDateString("en-US",{month:"short",day:"numeric"});return`${a} - ${s}, ${e.getFullYear()}`},el=e=>e.toLocaleDateString("en-US",{month:"long",year:"numeric"}),ei=async()=>{try{let{data:t,error:r}=await o.O.from("calendar_entries").select("*").eq("date",(0,l.LJ)(e)).order("start_time");if(r)throw r;let a=await Promise.all((t||[]).map(async e=>{let{data:t}=await o.O.from("task_details").select("id, code, title, current_status, current_status_name").eq("code",e.task_code).single(),r="";if(t?.id){let{data:e}=await o.O.from("task_entries").select("note, entry_timestamp").eq("task_id",t.id).not("note","is",null).not("note","eq","").order("entry_timestamp",{ascending:!1}).limit(1).single(),{data:a}=await o.O.from("task_notes").select("content, created_at").eq("task_id",t.id).order("created_at",{ascending:!1}).limit(1).single(),s=e?.entry_timestamp?new Date(e.entry_timestamp):null,n=a?.created_at?new Date(a.created_at):null;s&&n?r=s>n?e?.note||"":a?.content||"":s?r=e?.note||"":n&&(r=a?.content||"")}return{...e,status_code:t?.current_status||e.status_code,work_description:r||e.work_description||"",task_info:t}}));c(a)}catch(e){console.error("Error loading entries:",e)}},ed=async()=>{try{let{start:t,end:r}=ea(e),{data:a,error:s}=await o.O.from("calendar_entries").select("*").gte("date",(0,l.LJ)(t)).lte("date",(0,l.LJ)(r)).order("date").order("start_time");if(s)throw s;m(a||[])}catch(e){console.error("Error loading weekly entries:",e)}},ec=async()=>{try{let{start:t,end:r}=es(e),{data:a,error:s}=await o.O.from("calendar_entries").select("*").gte("date",(0,l.LJ)(t)).lte("date",(0,l.LJ)(r)).order("date").order("start_time");if(s)throw s;u(a||[])}catch(e){console.error("Error loading monthly entries:",e)}},eg=async()=>{try{let{data:e,error:t}=await o.O.from("task_details").select("*").in("status",["active"]).order("updated_at",{ascending:!1}).limit(50);if(t)throw t;h(e||[])}catch(e){console.error("Error loading tasks:",e)}},em=async e=>{if(!e.trim()){Y([]);return}try{let{data:t,error:r}=await o.O.from("task_details").select("*").or(`title.ilike.%${e}%,code.ilike.%${e}%,base_code.ilike.%${e}%`).limit(20);if(r)throw r;Y(t||[])}catch(e){console.error("Error searching tasks:",e),Y([])}},ex=e=>{let[t,r]=e.split(":").map(Number);return 60*t+r},eu=e=>`${Math.floor(e/60).toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`,eb=e=>{if(!_||L.isDragging)return 64;let t=Math.abs(e-_);return 0===t?120:1===t?90:2===t?65:40},eh=()=>{let e=[];for(let t=7;t<=23;t++){let r=eb(t)/4;for(let a=0;a<4;a++){let s=60*t+15*a,n=eu(s);e.push({time:n,minutes:s,hour:t,quarter:a,height:r,label:0===a?`${12===t?12:t>12?t-12:t}${t>=12?"PM":"AM"}`:""})}}return e},ey=e=>`${e.status_code}-${e.task_code}`,ep=async()=>{Z(!0);let t="daily"===r?"SOA":"weekly"===r?"SOWA":"SOMA";ee(t);try{let r,s;if("SOA"===t){let t=(0,l.LJ)(e),{data:a}=await o.O.from("calendar_entries").select("*").eq("date",t).order("start_time");r=a||[],s=t}else if("SOWA"===t){let{start:t,end:a}=ea(e),{data:n}=await o.O.from("calendar_entries").select("*").gte("date",(0,l.LJ)(t)).lte("date",(0,l.LJ)(a)).order("date").order("start_time");r=n||[],s=`${eo(e)}`}else{let{start:t,end:a}=es(e),{data:n}=await o.O.from("calendar_entries").select("*").gte("date",(0,l.LJ)(t)).lte("date",(0,l.LJ)(a)).order("date").order("start_time");r=n||[],s=el(e)}let n=Array.from(new Set(r?.map(e=>e.task_code)||[])),{data:i}=await o.O.from("task_details").select("*").in("base_code",n),d=(i||[]).reduce((e,t)=>(e[t.base_code]=t,e),{}),c={};r?.forEach(e=>{let t=d[e.task_code];if(t){let r=t.universe_name||"Unknown",a=t.phylum_name||"Unknown",s=t.family_name||null,n=t.base_code;c[r]||(c[r]={name:r,phylums:{}}),c[r].phylums[a]||(c[r].phylums[a]={name:a,families:{}});let o=s||"Direct";c[r].phylums[a].families[o]||(c[r].phylums[a].families[o]={name:s||"Direct",tasks:{}}),c[r].phylums[a].families[o].tasks[n]||(c[r].phylums[a].families[o].tasks[n]={title:t.title,code:t.base_code,entries:[]}),c[r].phylums[a].families[o].tasks[n].entries.push({...e,taskTitle:t.title,taskCode:t.base_code,fullStatusCode:ey(e)})}}),Object.values(c).forEach(e=>{Object.values(e.phylums).forEach(e=>{Object.values(e.families).forEach(e=>{Object.values(e.tasks).forEach(e=>{e.entries.sort((e,t)=>e.start_time.localeCompare(t.start_time))})})})});let g=Object.values(c).reduce((e,t)=>e+Object.values(t.phylums).reduce((e,t)=>e+Object.values(t.families).reduce((e,t)=>e+Object.values(t.tasks).reduce((e,t)=>e+t.entries.length,0),0),0),0),m=Object.values(c).reduce((e,t)=>(Object.values(t.phylums).forEach(t=>{Object.values(t.families).forEach(t=>{Object.keys(t.tasks).forEach(t=>e.add(t))})}),e),new Set).size,x=(0,a.jsxs)("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 rounded-lg p-4 border border-blue-200 dark:border-blue-700",children:(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:g}),a.jsx("div",{className:"text-sm text-blue-800 dark:text-blue-300 font-mono",children:"Activities"})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:m}),a.jsx("div",{className:"text-sm text-blue-800 dark:text-blue-300 font-mono",children:"Tasks"})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:Object.keys(c).length}),a.jsx("div",{className:"text-sm text-blue-800 dark:text-blue-300 font-mono",children:"Universes"})]})]})}),0===Object.keys(c).length?a.jsx("div",{className:"text-center py-8",children:a.jsx("div",{className:"text-gray-500 dark:text-gray-400 font-mono",children:"No activities logged for this date"})}):Object.entries(c).map(([e,t])=>{let r={Work:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700",Personal:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-700",Home:"bg-orange-50 dark:bg-orange-900/20 border-orange-200 dark:border-orange-700"}[e]||"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700",s=Object.values(t.phylums).reduce((e,t)=>e+Object.values(t.families).reduce((e,t)=>e+Object.keys(t.tasks).length,0),0),n=Object.values(t.phylums).reduce((e,t)=>e+Object.values(t.families).reduce((e,t)=>e+Object.values(t.tasks).reduce((e,t)=>e+t.entries.length,0),0),0);return(0,a.jsxs)("div",{className:`rounded-lg p-4 border ${r}`,children:[a.jsx("h3",{className:"font-mono font-bold text-lg mb-3",children:e.toUpperCase()}),a.jsx("div",{className:"space-y-3",children:Object.entries(t.phylums).map(([e,t])=>(0,a.jsxs)("div",{className:"ml-2",children:[a.jsx("h4",{className:"font-mono font-semibold text-md text-gray-700 dark:text-gray-300 mb-2",children:e}),a.jsx("div",{className:"space-y-2",children:Object.entries(t.families).map(([e,t])=>(0,a.jsxs)("div",{className:"ml-3",children:["Direct"!==t.name&&a.jsx("h5",{className:"font-mono text-sm text-gray-600 dark:text-gray-400 mb-1",children:t.name}),a.jsx("div",{className:"space-y-2 ml-2",children:Object.entries(t.tasks).map(([e,t])=>(0,a.jsxs)("div",{className:"border-l-2 border-gray-300 dark:border-gray-600 pl-3",children:[a.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-200 mb-1",children:t.title}),a.jsx("div",{className:"space-y-1",children:t.entries.map((e,t)=>{let r=e.end_time?`${e.start_time} - ${e.end_time}`:`${e.start_time} (ongoing)`,s={R:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",P:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",D:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",C:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",F:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300",X:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300"}[e.status_code]||"bg-gray-100 text-gray-800";return(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded p-3 border border-gray-200 dark:border-gray-700",children:[a.jsx("div",{className:"flex items-start justify-between mb-1",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:`px-2 py-1 rounded text-xs font-mono ${s}`,children:["[",e.fullStatusCode,"]"]}),a.jsx("span",{className:"font-mono text-sm text-gray-600 dark:text-gray-400",children:r})]})}),e.work_description&&e.work_description!==e.taskTitle&&a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.work_description})]},t)})})]},e))})]},e))})]},e))}),(0,a.jsxs)("div",{className:"mt-3 text-sm text-gray-600 dark:text-gray-400 font-mono",children:[n," activities across ",s," tasks in ",e]})]},e)}),(0,a.jsxs)("div",{className:"text-center text-sm text-gray-500 dark:text-gray-400 font-mono",children:["Generated on ",new Date().toLocaleString(),a.jsx("br",{}),"ATOL Semantic Ledger v1.0"]})]});B(x);let u=ek(c,t,s);H(u),X(!0)}catch(e){console.error("Error generating summary:",e)}finally{Z(!1)}},ek=(e,t,r)=>{let a=Object.values(e).reduce((e,t)=>e+Object.values(t.phylums).reduce((e,t)=>e+Object.values(t.families).reduce((e,t)=>e+Object.values(t.tasks).reduce((e,t)=>e+t.entries.length,0),0),0),0),s=Object.values(e).reduce((e,t)=>(Object.values(t.phylums).forEach(t=>{Object.values(t.families).forEach(t=>{Object.keys(t.tasks).forEach(t=>e.add(t))})}),e),new Set).size,n=`# ${{SOA:"Statement of Activities",SOWA:"Statement of Weekly Activities",SOMA:"Statement of Monthly Activities"}[t]}
`;return n+=`## ${"SOA"===t?"Date":"Period"}: ${r}

### Summary
- **Total Activities:** ${a}
- **Unique Tasks:** ${s}
- **Universes:** ${Object.keys(e).length}

`,Object.entries(e).forEach(([e,t])=>{let r=Object.values(t.phylums).reduce((e,t)=>e+Object.values(t.families).reduce((e,t)=>e+Object.values(t.tasks).reduce((e,t)=>e+t.entries.length,0),0),0);n+=`## ${e.toUpperCase()} (${r} activities)

`,Object.entries(t.phylums).forEach(([e,t])=>{n+=`### ${e}

`,Object.entries(t.families).forEach(([e,t])=>{"Direct"!==t.name&&(n+=`#### ${t.name}

`),Object.entries(t.tasks).forEach(([e,t])=>{n+=`**${t.title}** (${t.code})

`,t.entries.forEach(e=>{let t=e.end_time?`${e.start_time} - ${e.end_time}`:`${e.start_time} (ongoing)`;n+=`- [${e.fullStatusCode}] ${t}`,e.work_description&&e.work_description!==e.taskTitle&&(n+=` - ${e.work_description}`),n+="\n"}),n+="\n"})})})}),n+=`---
Generated on ${new Date().toLocaleString()}
ATOL Semantic Ledger v1.0
`},ef=async(t,r)=>{try{let a=ex(r),s=eu(Math.min(a+30,1365)),n=t.base_code||t.code.substring(0,20),{error:i}=await o.O.from("calendar_entries").insert({task_code:n,status_code:t.current_status||"P",work_description:t.title,date:(0,l.LJ)(e),start_time:r,end_time:s,is_parallel:!1,track_number:1});if(i)throw i;let{error:d}=await o.O.rpc("create_task_entry",{p_task_id:t.id,p_status_code:t.current_status||"P",p_note:`Scheduled: ${r} - ${s} | ${t.title}`,p_entry_timestamp:new Date().toISOString()});if(d)throw d;ei(),P(!1),U(""),Y([])}catch(e){console.error("Error creating entry:",e),alert("Failed to create entry: "+e.message)}},ev=async(e,t)=>{try{let{data:r}=await o.O.from("calendar_entries").select("*").eq("id",e).single();if(!r)throw Error("Entry not found");let{error:a}=await o.O.from("calendar_entries").update(t).eq("id",e);if(a)throw a;if(t.status_code&&t.status_code!==r.status_code||void 0!==t.work_description&&t.work_description!==r.work_description){let{data:e}=await o.O.from("tasks").select("id").eq("base_code",r.task_code).single();if(e){let a="";t.status_code&&t.status_code!==r.status_code&&(a=`Status changed to ${t.status_code} via calendar`),void 0!==t.work_description&&t.work_description!==r.work_description&&(a&&(a+=" | "),a+=`Note updated via calendar: ${t.work_description||"cleared"}`);let{error:s}=await o.O.rpc("create_task_entry",{p_task_id:e.id,p_status_code:t.status_code||r.status_code,p_note:a,p_entry_timestamp:new Date().toISOString()});if(s&&console.error("Error creating task entry:",s),void 0!==t.work_description&&t.work_description!==r.work_description){let{error:r}=await o.O.from("task_notes").insert({task_id:e.id,type:R,content:t.work_description||"Note cleared via calendar"});r&&console.error("Error creating task note:",r)}}}ei()}catch(e){console.error("Error updating entry:",e),alert("Failed to update entry: "+e.message)}},ej=async e=>{try{let{error:t}=await o.O.from("calendar_entries").delete().eq("id",e);if(t)throw t;ei(),A(null)}catch(e){console.error("Error deleting entry:",e),alert("Failed to delete entry: "+e.message)}},ew=(e,t,r)=>{if(e.preventDefault(),e.stopPropagation(),T({isDragging:!0,dragType:r,draggedItem:t,startPosition:{x:e.clientX,y:e.clientY},currentPosition:{x:e.clientX,y:e.clientY}}),er.current){let a=er.current;a.style.display="block",a.style.left=`${e.clientX+10}px`,a.style.top=`${e.clientY+10}px`,a.textContent="task"===r?`${t.code} - ${t.title}`:`${t.task_code} (${t.start_time})`}},eN=e=>{if(L.isDragging&&(T(t=>({...t,currentPosition:{x:e.clientX,y:e.clientY}})),er.current&&(er.current.style.left=`${e.clientX+10}px`,er.current.style.top=`${e.clientY+10}px`),et.current)){let t=et.current.getBoundingClientRect(),r=e.clientY-t.top,a=eh(),s=0,n=null;for(let e of a){if(r>=s&&r<s+e.height){n=e.time;break}s+=e.height}N(n)}},e_=()=>{if(!L.isDragging||!L.draggedItem){eS();return}w&&et.current&&"task"===L.dragType&&ef(L.draggedItem,w),eS()},eS=()=>{T({isDragging:!1,dragType:null,draggedItem:null,startPosition:{x:0,y:0},currentPosition:{x:0,y:0}}),N(null),er.current&&(er.current.style.display="none")};(0,s.useEffect)(()=>{let e=e=>{E({x:e.clientX,y:e.clientY}),L.isDragging&&eN(e)};return document.addEventListener("mousemove",e),L.isDragging&&document.addEventListener("mouseup",e_),()=>{document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",e_)}},[L.isDragging,w]);let e$=a=>{let s=new Date(e);"daily"===r?s.setDate(e.getDate()+("next"===a?1:-1)):"weekly"===r?s.setDate(e.getDate()+("next"===a?7:-7)):"monthly"===r&&s.setMonth(e.getMonth()+("next"===a?1:-1)),t(s)},eD=()=>e.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),eO=()=>{let t=e.toLocaleDateString("en-US",{weekday:"long"}),r=e.toLocaleDateString("en-US",{month:"long"}),a=e.getDate(),s=e.getFullYear();return{weekday:t,month:r,dayYear:`${a}, ${s}`}},eE=e=>{switch(e){case"R":return"bg-blue-500";case"P":return"bg-yellow-500";case"D":return"bg-purple-500";case"C":return"bg-green-500";case"F":return"bg-gray-500";case"X":return"bg-red-500";default:return"bg-gray-400"}};return y?(0,a.jsxs)("div",{className:"min-h-screen bg-[#F8F7F4] dark:bg-[#0A0A0B]",children:[a.jsx("div",{className:"border-b-2 border-gray-900 dark:border-gray-300 p-4",children:a.jsx("div",{className:"font-mono",children:k?(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"text-sm font-bold flex-1 leading-tight",children:[a.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:eO().weekday}),a.jsx("div",{className:"text-base",children:eO().month}),a.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:eO().dayYear})]}),(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center space-y-1",children:[a.jsx("button",{onClick:()=>t(new Date),className:"px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded hover:bg-gray-300 dark:hover:bg-gray-600 text-xs font-mono",children:"TODAY"}),(0,a.jsxs)("div",{className:"flex space-x-1",children:[a.jsx("button",{onClick:()=>e$("prev"),className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded hover:bg-gray-300 dark:hover:bg-gray-600 text-xs font-mono",children:"<"}),a.jsx("button",{onClick:()=>e$("next"),className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded hover:bg-gray-300 dark:hover:bg-gray-600 text-xs font-mono",children:">"})]})]}),a.jsx("div",{className:"w-px h-12 bg-gray-400 mx-2"}),(0,a.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,a.jsxs)("div",{className:"flex space-x-1 mb-1",children:[a.jsx("button",{onClick:()=>i("daily"),className:`px-2 py-1 rounded text-xs font-mono transition-colors ${"daily"===r?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"DAY"}),a.jsx("button",{onClick:()=>i("weekly"),className:`px-2 py-1 rounded text-xs font-mono transition-colors ${"weekly"===r?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"WK"}),a.jsx("button",{onClick:()=>i("monthly"),className:`px-2 py-1 rounded text-xs font-mono transition-colors ${"monthly"===r?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"MO"})]}),a.jsx("button",{onClick:()=>j(!v),className:`px-2 py-1 rounded text-xs font-mono transition-colors ${v?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"TASKS"}),a.jsx("button",{onClick:ep,disabled:Q,className:"px-2 py-1 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded text-xs font-mono transition-colors",children:Q?"GEN...":V})]})]})]}):(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h1",{className:"text-xl font-bold",children:["daily"===r&&eD(),"weekly"===r&&`Week ${en(e)}: ${eo(e)}`,"monthly"===r&&el(e)]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>e$("prev"),className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded hover:bg-gray-300 dark:hover:bg-gray-600 text-xs font-mono",children:"[<]"}),a.jsx("button",{onClick:()=>t(new Date),className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded hover:bg-gray-300 dark:hover:bg-gray-600 text-xs font-mono",children:"TODAY"}),a.jsx("button",{onClick:()=>e$("next"),className:"px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded hover:bg-gray-300 dark:hover:bg-gray-600 text-xs font-mono",children:"[>]"}),a.jsx("div",{className:"w-px h-6 bg-gray-400 mx-2"}),(0,a.jsxs)("div",{className:"flex space-x-2 mr-4",children:[a.jsx("button",{onClick:()=>i("daily"),className:`px-2 py-1 rounded text-xs font-mono transition-colors ${"daily"===r?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"[DAILY]"}),a.jsx("button",{onClick:()=>i("weekly"),className:`px-2 py-1 rounded text-xs font-mono transition-colors ${"weekly"===r?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"[WEEKLY]"}),a.jsx("button",{onClick:()=>i("monthly"),className:`px-2 py-1 rounded text-xs font-mono transition-colors ${"monthly"===r?"bg-yellow-600 hover:bg-yellow-700 text-white":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"[MONTHLY]"})]}),a.jsx("button",{onClick:()=>j(!v),className:`px-2 py-1 rounded text-xs font-mono transition-colors ${v?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"[TASKS]"}),a.jsx("button",{onClick:ep,disabled:Q,className:"px-2 py-1 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded text-xs font-mono transition-colors",children:Q?"[GENERATING...]":`[${V}]`})]})]})})}),(0,a.jsxs)("div",{className:"flex",children:[v&&a.jsx("div",{className:`${k?"fixed inset-0 z-40 bg-black/50":"w-80"}`,children:(0,a.jsxs)("div",{className:`bg-white dark:bg-gray-900 h-full border-r border-gray-300 dark:border-gray-700 p-4 overflow-y-auto ${k?"w-80 shadow-xl":""}`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h2",{className:"text-lg font-mono font-bold",children:"Available Tasks"}),k&&a.jsx("button",{onClick:()=>j(!1),className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[b.map(e=>(0,a.jsxs)("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 cursor-move hover:shadow-md transition-shadow",onMouseDown:t=>ew(t,e,"task"),children:[a.jsx("div",{className:"font-mono font-bold text-sm",children:e.display_code||e.base_code||e.code}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:e.title}),e.current_status&&(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Status: ",e.current_status]})]},e.id)),0===b.length&&a.jsx("div",{className:"text-center text-gray-500 py-8",children:"No active tasks found"})]})]})}),a.jsx("div",{className:"flex-1 p-4",children:(0,a.jsxs)("div",{className:"relative",children:["daily"===r&&(0,a.jsxs)("div",{ref:et,className:"relative bg-white dark:bg-gray-900 rounded-lg border border-gray-300 dark:border-gray-700 overflow-hidden",onMouseLeave:()=>{N(null),D(null),S(null)},children:[eh().map(e=>(0,a.jsxs)("div",{className:`relative border-b transition-all duration-300 ease-out ${0===e.quarter?"border-gray-400 dark:border-gray-500":"border-gray-100 dark:border-gray-800"} ${w===e.time&&L.isDragging?"bg-blue-50 dark:bg-blue-900/20":""} ${L.isDragging?"":"hover:bg-gray-50 dark:hover:bg-gray-800/50"}`,style:{height:`${e.height}px`},onMouseEnter:()=>{L.isDragging||(N(e.time),S(e.hour))},onClick:()=>{L.isDragging||(z(e.time),P(!0))},children:[e.label&&a.jsx("div",{className:"absolute right-2 top-1 text-xs font-mono text-gray-500 z-20",children:e.label}),a.jsx("div",{className:"absolute left-2 top-0 w-4 h-px bg-gray-300 dark:bg-gray-600 z-20"}),w===e.time&&L.isDragging&&a.jsx("div",{className:"absolute inset-x-2 inset-y-1 border-2 border-dashed border-blue-400 dark:border-blue-500 rounded bg-blue-50 dark:bg-blue-900/20 z-10"}),!L.isDragging&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity",children:a.jsx("div",{className:"text-xs text-gray-400 font-mono",children:"+ Add task"})})]},e.time)),(()=>{let e=[];return d.forEach(t=>{let r=ex(t.start_time),a=t.end_time?ex(t.end_time):r+60,s=!1;for(let n of e)if(n.some(e=>{let t=ex(e.start_time);return r<(e.end_time?ex(e.end_time):t+60)&&a>t})){n.push(t),s=!0;break}s||e.push([t])}),e.flatMap(e=>{let t=e.length;return e.map((e,r)=>{let s=ex(e.start_time),n=e.end_time?ex(e.end_time):s+60,o=0,l=eh();for(let e of l){if(e.minutes>=s)break;o+=e.height}let i=0;for(let e of l)e.minutes>=s&&e.minutes<n&&(i+=e.height);let d=Math.floor((window.innerWidth<768?window.innerWidth-70:(et.current?.clientWidth||800)-60)/t)-4,c={top:`${o}px`,height:`${Math.max(i-4,20)}px`,left:`${50+r*(d+4)}px`,width:`${d}px`};return a.jsx("div",{className:`absolute transition-all duration-200 cursor-pointer hover:opacity-80 rounded ${eE(e.status_code)} ${$?.id===e.id?"ring-2 ring-white ring-opacity-50":""}`,style:{...c,zIndex:30,margin:"2px"},onMouseEnter:()=>{D(e)},onMouseLeave:()=>D(null),onClick:t=>{t.preventDefault(),t.stopPropagation(),A(e)},children:a.jsx("div",{className:`absolute inset-0 flex items-center transition-all duration-200 ${$?.id===e.id?"justify-end pr-4":"justify-center"}`,children:(0,a.jsxs)("div",{className:"text-xs text-white text-center",children:[(0,a.jsxs)("div",{className:"font-mono font-bold truncate",children:["[",e.status_code,"] ",e.task_code]}),e.task_info?.title&&a.jsx("div",{className:"opacity-90 text-xs truncate font-medium",children:e.task_info.title}),(0,a.jsxs)("div",{className:"opacity-75 text-xs",children:[e.start_time," - ",e.end_time||"ongoing"]})]})})},e.id)})})})(),!L.isDragging&&0===d.length&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-gray-400 pointer-events-none",children:(0,a.jsxs)("div",{className:"text-center font-mono",children:[a.jsx("div",{children:"Drag tasks from panel to schedule"}),a.jsx("div",{className:"text-sm mt-1",children:"Or click time slots to search tasks"})]})})]}),"weekly"===r&&a.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg border border-gray-300 dark:border-gray-700 overflow-hidden",children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"text-center font-mono text-lg font-bold mb-4",children:["Week ",en(e),": ",eo(e)]}),(0,a.jsxs)("div",{className:"grid grid-cols-8 gap-1 text-xs font-mono",children:[a.jsx("div",{className:"text-center font-bold p-2",children:"TIME"}),["SUN","MON","TUE","WED","THU","FRI","SAT"].map(e=>a.jsx("div",{className:"text-center font-bold p-2",children:e},e)),Array.from({length:24},(t,r)=>{let{start:s}=ea(e);return(0,a.jsxs)(n().Fragment,{children:[(0,a.jsxs)("div",{className:"text-center p-2 bg-gray-50 dark:bg-gray-800",children:[r.toString().padStart(2,"0"),":00"]}),Array.from({length:7},(e,t)=>{let n=new Date(s);n.setDate(s.getDate()+t);let o=g.filter(e=>{let t=new Date(e.date),a=parseInt(e.start_time.split(":")[0]);return t.toDateString()===n.toDateString()&&a===r}),l=0===o.length?"low":o.length<=2?"medium":"high";return a.jsx("div",{className:`h-8 border border-gray-200 dark:border-gray-700 ${{low:"bg-gray-100 dark:bg-gray-800",medium:"bg-gray-300 dark:bg-gray-600",high:"bg-gray-500 dark:bg-gray-400"}[l]} hover:opacity-80 cursor-pointer transition-opacity`,title:`${n.toLocaleDateString()}: ${o.length} entries`},t)})]},r)})]})]})}),"monthly"===r&&a.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-lg border border-gray-300 dark:border-gray-700 overflow-hidden",children:(0,a.jsxs)("div",{className:"p-4",children:[a.jsx("div",{className:"text-center font-mono text-lg font-bold mb-4",children:el(e)}),(0,a.jsxs)("div",{className:"grid grid-cols-7 gap-1 text-xs font-mono",children:[["SUN","MON","TUE","WED","THU","FRI","SAT"].map(e=>a.jsx("div",{className:"text-center font-bold p-2 bg-gray-50 dark:bg-gray-800",children:e},e)),(()=>{let{start:t,end:r}=es(e),s=new Date(t);s.setDate(s.getDate()-s.getDay());let n=[],o=new Date(s);for(let t=0;t<42;t++){let s=x.filter(e=>new Date(e.date).toDateString()===o.toDateString()),l=o.getMonth()===e.getMonth(),i=0===s.length?"low":s.length<=3?"medium":"high",d={low:"bg-gray-100 dark:bg-gray-800",medium:"bg-gray-300 dark:bg-gray-600",high:"bg-gray-500 dark:bg-gray-400"};if(n.push((0,a.jsxs)("div",{className:`h-16 p-1 border border-gray-200 dark:border-gray-700 ${l?d[i]:"bg-gray-50 dark:bg-gray-900 opacity-30"} hover:opacity-80 cursor-pointer transition-opacity relative`,title:`${o.toLocaleDateString()}: ${s.length} entries`,children:[a.jsx("div",{className:"text-xs font-bold",children:o.getDate()}),s.length>0&&a.jsx("div",{className:"text-xs text-center mt-1",children:s.length})]},t)),o.setDate(o.getDate()+1),41===t||o>r&&0===o.getDay())break}return n})()]}),(0,a.jsxs)("div",{className:"mt-4 flex justify-center space-x-4 text-xs font-mono",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[a.jsx("div",{className:"w-3 h-3 bg-gray-100 dark:bg-gray-800 border"}),a.jsx("span",{children:"Low Activity"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[a.jsx("div",{className:"w-3 h-3 bg-gray-300 dark:bg-gray-600 border"}),a.jsx("span",{children:"Medium Activity"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[a.jsx("div",{className:"w-3 h-3 bg-gray-500 dark:bg-gray-400 border"}),a.jsx("span",{children:"High Activity"})]})]})]})})]})})]}),a.jsx("div",{ref:er,className:"fixed z-50 bg-blue-600 text-white px-2 py-1 rounded shadow-lg font-mono text-sm pointer-events-none",style:{display:"none"}}),$&&(0,a.jsxs)("div",{className:"fixed z-40 bg-gray-900 text-white p-4 rounded-lg shadow-2xl border border-gray-700 font-mono text-sm max-w-sm",style:{left:`${O.x+15}px`,top:`${O.y+15}px`,pointerEvents:"none"},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("div",{className:`w-4 h-4 rounded ${eE($.status_code)}`}),(0,a.jsxs)("div",{className:"font-bold text-yellow-400",children:["[",$.status_code,"] ",$.task_code]})]}),$.task_info?.title&&(0,a.jsxs)("div",{className:"mb-3 pb-2 border-b border-gray-700",children:[a.jsx("div",{className:"text-gray-400 text-xs mb-1",children:"Task:"}),a.jsx("div",{className:"text-xs text-white font-medium",children:$.task_info.title})]}),(0,a.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Start:"}),a.jsx("span",{children:$.start_time})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"End:"}),a.jsx("span",{children:$.end_time||"Not set"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Duration:"}),a.jsx("span",{children:$.end_time?`${ex($.end_time)-ex($.start_time)} min`:"Unknown"})]})]}),$.work_description&&(0,a.jsxs)("div",{className:"mt-3 pt-2 border-t border-gray-700",children:[a.jsx("div",{className:"text-gray-400 text-xs mb-1",children:"Work Notes:"}),a.jsx("div",{className:"text-xs text-gray-200",children:$.work_description})]}),a.jsx("div",{className:"mt-3 pt-2 border-t border-gray-700 text-xs text-gray-500",children:"Click to edit"})]}),M&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg w-full max-w-2xl max-h-96 flex flex-col",children:[(0,a.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["Schedule task at ",F," on ",e.toLocaleDateString()]}),a.jsx("input",{type:"text",placeholder:"Search existing tasks...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0,value:q,onChange:e=>{U(e.target.value),em(e.target.value)},onKeyDown:e=>{"Escape"===e.key&&(P(!1),U(""),Y([])),"Enter"===e.key&&W.length>0&&ef(W[0],F)}})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[q&&0===W.length&&(0,a.jsxs)("div",{className:"p-4 text-center text-gray-500",children:['No tasks found matching "',q,'"']}),W.length>0&&a.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:W.map((e,t)=>(0,a.jsxs)("button",{onClick:()=>ef(e,F),className:"w-full text-left p-4 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[(0,a.jsxs)("div",{className:"font-mono font-bold",children:[e.display_code||e.base_code||e.code," - ",e.title]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:[e.universe_name||"Unknown"," > ",e.phylum_name||"Unknown"]}),0===t&&a.jsx("div",{className:"text-xs text-blue-500 mt-1",children:"Press Enter to select"})]},e.id))}),!q&&(0,a.jsxs)("div",{className:"p-4 text-gray-500 text-sm",children:[a.jsx("p",{children:"Type to search for existing tasks to schedule"}),a.jsx("p",{className:"mt-2",children:"• Search by task title, code, or identifier"}),a.jsx("p",{children:"• Press Enter to select first result"}),a.jsx("p",{children:"• Press ESC to cancel"})]})]}),a.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end",children:a.jsx("button",{onClick:()=>{P(!1),U(""),Y([])},className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors",children:"Cancel"})})]})}),C&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg w-full max-w-md",children:[a.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:a.jsx("h3",{className:"font-mono font-bold",children:"Edit Entry"})}),(0,a.jsxs)("div",{className:"p-4 space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-mono mb-1",children:"Task Code"}),a.jsx("div",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 font-mono",children:C.task_code}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Task code cannot be changed"})]}),C.task_info?.title&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-mono mb-1",children:"Task Title"}),a.jsx("div",{className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400",children:C.task_info.title}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Task title cannot be changed"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-mono mb-1",children:"Start Time"}),a.jsx("input",{type:"time",value:C.start_time,onChange:e=>A({...C,start_time:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-mono mb-1",children:"End Time"}),a.jsx("input",{type:"time",value:C.end_time||"",onChange:e=>A({...C,end_time:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-mono mb-2",children:"Work Notes"}),(0,a.jsxs)("div",{className:"flex gap-2 mb-3",children:[a.jsx("button",{onClick:()=>I("task"),className:`px-3 py-1 rounded text-xs ${"task"===R?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Task Note"}),a.jsx("button",{onClick:()=>I("step"),className:`px-3 py-1 rounded text-xs ${"step"===R?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Step Note"}),a.jsx("button",{onClick:()=>I("outcome"),className:`px-3 py-1 rounded text-xs ${"outcome"===R?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:"Outcome Note"})]}),a.jsx("textarea",{value:C.work_description,onChange:e=>A({...C,work_description:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-800",rows:3,placeholder:`Add a ${R} note...`})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-mono mb-2",children:"Status"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{code:"R",name:"Received",color:"bg-blue-500"},{code:"P",name:"Pending",color:"bg-yellow-500"},{code:"D",name:"Delivered",color:"bg-purple-500"},{code:"C",name:"Completed",color:"bg-green-500"},{code:"F",name:"Filed",color:"bg-gray-500"},{code:"X",name:"Cancelled",color:"bg-red-500"}].map(e=>(0,a.jsxs)("button",{onClick:()=>A({...C,status_code:e.code}),className:`p-2 rounded text-xs font-mono text-white transition-opacity ${e.color} ${C.status_code===e.code?"opacity-100":"opacity-50"}`,children:["[",e.code,"] ",e.name]},e.code))})]})]}),(0,a.jsxs)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 flex gap-2",children:[a.jsx("button",{onClick:()=>{ev(C.id,{status_code:C.status_code,work_description:C.work_description,start_time:C.start_time,end_time:C.end_time}),A(null)},className:"flex-1 bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition-colors font-mono",children:"Save"}),a.jsx("button",{onClick:()=>{confirm("Delete this entry?")&&ej(C.id)},className:"flex-1 bg-red-600 text-white py-2 rounded hover:bg-red-700 transition-colors font-mono",children:"Delete"}),a.jsx("button",{onClick:()=>A(null),className:"flex-1 bg-gray-500 text-white py-2 rounded hover:bg-gray-600 transition-colors font-mono",children:"Cancel"})]})]})}),J&&a.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-2 sm:p-4",children:(0,a.jsxs)("div",{className:"bg-white dark:bg-gray-900 rounded-lg w-full max-w-4xl max-h-[95vh] sm:max-h-[90vh] flex flex-col",children:[a.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200 dark:border-gray-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg sm:text-xl font-mono font-bold",children:["SOA"===V&&"Statement of Activities","SOWA"===V&&"Statement of Weekly Activities","SOMA"===V&&"Statement of Monthly Activities"]}),a.jsx("div",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-400 mt-1 font-mono",children:eD()})]}),a.jsx("button",{onClick:()=>X(!1),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-xl",children:"✕"})]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6",children:K}),(0,a.jsxs)("div",{className:"p-4 sm:p-6 border-t border-gray-200 dark:border-gray-700 flex flex-col sm:flex-row gap-2 sm:gap-3",children:[a.jsx("button",{onClick:()=>{let t=(0,l.LJ)(e),r={SOA:`SOA-${t}.md`,SOWA:`SOWA-Week${en(e)}-${e.getFullYear()}.md`,SOMA:`SOMA-${e.toLocaleDateString("en-US",{month:"long",year:"numeric"}).replace(" ","-")}.md`}[V],a=new Blob([G],{type:"text/markdown"}),s=URL.createObjectURL(a),n=document.createElement("a");n.href=s,n.download=r,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(s)},className:"flex-1 bg-green-600 text-white py-3 px-4 rounded hover:bg-green-700 transition-colors font-mono text-xs sm:text-sm",children:"[DOWNLOAD .MD]"}),a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(G),alert(`${V} copied to clipboard!`)},className:"flex-1 bg-blue-600 text-white py-3 px-4 rounded hover:bg-blue-700 transition-colors font-mono text-xs sm:text-sm",children:"[COPY]"}),a.jsx("button",{onClick:()=>X(!1),className:"flex-1 bg-gray-500 text-white py-3 px-4 rounded hover:bg-gray-600 transition-colors font-mono text-xs sm:text-sm",children:"[CLOSE]"})]})]})})]}):a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."})}},3313:(e,t,r)=>{"use strict";function a(e=new Date){let t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${a}`}function s(e=new Date){let t=String(e.getHours()).padStart(2,"0"),r=String(e.getMinutes()).padStart(2,"0");return`${t}:${r}`}r.d(t,{BT:()=>s,LJ:()=>a})},5849:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>n,__esModule:()=>s,default:()=>o});let a=(0,r(6843).createProxy)(String.raw`/workspaces/ZQLC/app/log/page.tsx`),{__esModule:s,$$typeof:n}=a,o=a.default}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[939,704],()=>r(9819));module.exports=a})();