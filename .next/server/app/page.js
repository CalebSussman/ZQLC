(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},7310:e=>{"use strict";e.exports=require("url")},9796:e=>{"use strict";e.exports=require("zlib")},9319:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>g,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>i});var s=t(482),a=t(9108),l=t(2563),o=t.n(l),n=t(8300),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(r,d);let i=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,751)),"/workspaces/ZQLC/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,6680)),"/workspaces/ZQLC/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],c=["/workspaces/ZQLC/app/page.tsx"],m="/page",g={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},7269:(e,r,t)=>{Promise.resolve().then(t.bind(t,6378))},9473:(e,r,t)=>{Promise.resolve().then(t.bind(t,4302))},9842:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2583,23)),Promise.resolve().then(t.t.bind(t,6840,23)),Promise.resolve().then(t.t.bind(t,8771,23)),Promise.resolve().then(t.t.bind(t,3225,23)),Promise.resolve().then(t.t.bind(t,9295,23)),Promise.resolve().then(t.t.bind(t,3982,23))},4302:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var s=t(5344),a=t(3729),l=t(8428),o=t(2829);let n=[{code:"R",name:"Received",description:"Task received and acknowledged"},{code:"D",name:"Delivered",description:"Task delivered or presented"},{code:"F",name:"Filed",description:"Task filed for reference"},{code:"C",name:"Completed",description:"Task fully completed"},{code:"P",name:"Pending",description:"Task pending external action"},{code:"X",name:"Cancelled",description:"Task cancelled"}];function d(){let e=(0,l.useRouter)(),r=(0,a.useRef)(null),[t,d]=(0,a.useState)([]),[i,c]=(0,a.useState)([]),[m,g]=(0,a.useState)([]),[x,u]=(0,a.useState)([]),[p,b]=(0,a.useState)([]),[h,y]=(0,a.useState)(""),[f,j]=(0,a.useState)(null),[v,N]=(0,a.useState)(null),[k,w]=(0,a.useState)(null),[S,_]=(0,a.useState)(null),[C,E]=(0,a.useState)(null),[$,P]=(0,a.useState)(""),[T,q]=(0,a.useState)(""),[I,O]=(0,a.useState)("status"),[A,L]=(0,a.useState)(!1),[F,M]=(0,a.useState)(null);async function R(){let{data:e}=await o.O.from("universes").select("*").order("display_order");d(e||[]);let{data:r}=await o.O.from("task_details").select("*").order("updated_at",{ascending:!1}).limit(10);b(r||[])}async function z(e){let{data:r}=await o.O.from("phyla").select("*").eq("universe_id",e).order("display_order");c(r||[])}async function D(e){let{data:r}=await o.O.from("families").select("*").eq("phylum_id",e).order("display_order");g(r||[])}async function Z(e,r,t){let s=o.O.from("groups_with_counts").select("*").eq("universe_id",e).eq("phylum_id",r);t?s.eq("family_id",t):s.is("family_id",null);let{data:a}=await s.order("group_num");u(a||[])}async function G(){if(!f||!v||!k||!$||!T||!h){alert("Please complete all required fields");return}let r=new Date,t=r.toISOString().replace("T","_").replace(/[-:]/g,".").substring(0,16),s=`${v.code}${k.code}${S?.code||""}-${$.padStart(2,"0")}.${T.padStart(2,"0")}`.toUpperCase(),a=`${f.code}-${t}=${s}`;try{let{data:t,error:l}=await o.O.from("tasks").insert({code:a,base_code:s,title:h,universe_id:v.id,phylum_id:k.id,family_id:S?.id||null,group_num:parseInt($),task_num:parseInt(T),priority:3,status:"active",task_timestamp:r.toISOString()}).select().single();if(l)throw l;if(t){await o.O.rpc("create_task_entry",{p_task_id:t.id,p_status_code:f.code,p_note:"Initial entry",p_entry_timestamp:r.toISOString()});let{data:a}=await o.O.from("cards").select("id").eq("status","active").single();a&&await o.O.from("task_cards").insert({task_id:t.id,card_id:a.id}),e.push(`/t/${s.toLowerCase()}`)}}catch(e){console.error("Error creating task:",e),alert("Failed to create task")}}return(0,a.useEffect)(()=>{R()},[]),(0,a.useEffect)(()=>{v&&z(v.id)},[v]),(0,a.useEffect)(()=>{k&&(D(k.id),v&&Z(v.id,k.id,S?.id))},[k,v,S]),s.jsx("div",{className:"min-h-screen bg-[#F8F7F4] dark:bg-[#0A0A0B] p-8",children:(0,s.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,s.jsxs)("div",{className:"mb-8 border-b-2 border-gray-300 dark:border-gray-700 pb-4",children:[s.jsx("h1",{className:"text-3xl font-mono font-bold text-gray-900 dark:text-gray-100",children:"CREATE NEW TASK"}),s.jsx("div",{className:"mt-2 h-1 w-32 bg-gradient-to-r from-yellow-400 to-yellow-500"})]}),s.jsx("div",{className:"mb-8 bg-[#FFF9C4] dark:bg-[#3D3A2B] p-6 rounded-lg",children:s.jsx("input",{ref:r,type:"text",value:h,onChange:e=>y(e.target.value),placeholder:"[TASK NAME]",className:"w-full text-2xl font-mono bg-transparent border-b-2 border-gray-400 dark:border-gray-600 pb-2 focus:outline-none focus:border-blue-600 placeholder-gray-500"})}),(0,s.jsxs)("div",{className:"mb-8 bg-white dark:bg-gray-900 p-6 rounded-lg border border-gray-300 dark:border-gray-700",children:[(0,s.jsxs)("div",{className:"font-mono text-lg mb-4",children:[s.jsx("span",{className:"text-gray-500",children:"["}),s.jsx("span",{className:"text-purple-600 font-bold",children:f?.code||"S"}),s.jsx("span",{className:"text-gray-500",children:"-"}),s.jsx("span",{className:"text-blue-600",children:v?.code||"U"}),s.jsx("span",{className:"text-gray-500",children:"/"}),s.jsx("span",{className:"text-blue-600",children:k?.code||"P"}),s.jsx("span",{className:"text-gray-500",children:"/"}),s.jsx("span",{className:"text-blue-600",children:S?.code||"F"}),s.jsx("span",{className:"text-gray-500",children:"]-"}),s.jsx("span",{className:"text-green-600",children:$.padStart(2,"0")||"##"}),s.jsx("span",{className:"text-gray-500",children:"."}),s.jsx("span",{className:"text-green-600",children:T.padStart(2,"0")||"##"})]}),f&&v&&k&&$&&T&&(0,s.jsxs)("div",{className:"mt-4 p-3 bg-gray-100 dark:bg-gray-800 rounded",children:[(0,s.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:["Status prefix: ",f.code,"-",new Date().toISOString().replace("T","_").replace(/[-:]/g,".").substring(0,16)]}),(0,s.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:["Core code: ",`${v.code}${k.code}${S?.code||""}-${$.padStart(2,"0")}.${T.padStart(2,"0")}`.toUpperCase()]}),s.jsx("div",{className:"text-sm font-mono font-bold",children:(()=>{if(!f||!v||!k||!$||!T)return"";let e=new Date().toISOString().replace("T","_").replace(/[-:]/g,".").substring(0,16),r=`${v.code}${k.code}${S?.code||""}-${$.padStart(2,"0")}.${T.padStart(2,"0")}`.toUpperCase();return`${f.code}-${e}=${r}`})()})]})]}),"status"===I&&(0,s.jsxs)("div",{className:"mb-6 p-4 bg-white dark:bg-gray-900 rounded-lg border-2 border-purple-500",children:[s.jsx("h3",{className:"font-mono font-bold mb-4",children:"Select Status:"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:n.map(e=>(0,s.jsxs)("button",{onClick:()=>{j(e),O("universe")},className:`p-4 rounded-lg border-2 transition-all hover:scale-105 font-mono ${f?.code===e.code?"bg-purple-100 dark:bg-purple-900 border-purple-600":"bg-gray-50 dark:bg-gray-800 border-gray-300 dark:border-gray-700 hover:border-purple-400"}`,children:[(0,s.jsxs)("div",{className:"text-xl font-bold text-purple-600 dark:text-purple-400",children:["[",e.code,"]"]}),s.jsx("div",{className:"text-sm mt-1",children:e.name})]},e.code))})]}),"universe"===I&&f&&(0,s.jsxs)("div",{className:"mb-6 p-4 bg-white dark:bg-gray-900 rounded-lg border-2 border-blue-500",children:[s.jsx("h3",{className:"font-mono font-bold mb-4",children:"Select Universe:"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:t.map(e=>(0,s.jsxs)("button",{onClick:()=>{N(e),O("phylum")},className:`p-4 rounded-lg border-2 transition-all hover:scale-105 font-mono ${v?.id===e.id?"bg-blue-100 dark:bg-blue-900 border-blue-600":"bg-gray-50 dark:bg-gray-800 border-gray-300 dark:border-gray-700 hover:border-blue-400"}`,children:[s.jsx("div",{className:"text-xl font-bold",children:e.code}),(0,s.jsxs)("div",{className:"text-sm mt-1",children:["(",e.name,")"]})]},e.id))})]}),"phylum"===I&&v&&(0,s.jsxs)("div",{className:"mb-6 p-4 bg-white dark:bg-gray-900 rounded-lg border-2 border-blue-500",children:[s.jsx("h3",{className:"font-mono font-bold mb-4",children:"Select Phylum:"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:i.map(e=>(0,s.jsxs)("button",{onClick:()=>{w(e),O("family")},className:`p-4 rounded-lg border-2 transition-all hover:scale-105 font-mono ${k?.id===e.id?"bg-blue-100 dark:bg-blue-900 border-blue-600":"bg-gray-50 dark:bg-gray-800 border-gray-300 dark:border-gray-700 hover:border-blue-400"}`,children:[s.jsx("div",{className:"text-xl font-bold",children:e.code}),(0,s.jsxs)("div",{className:"text-sm mt-1",children:["(",e.name,")"]})]},e.id))})]}),"family"===I&&k&&(0,s.jsxs)("div",{className:"mb-6 p-4 bg-white dark:bg-gray-900 rounded-lg border-2 border-yellow-500",children:[s.jsx("h3",{className:"font-mono font-bold mb-4",children:"Select Family (Optional):"}),s.jsx("button",{onClick:()=>{_(null),O("group")},className:"w-full mb-3 p-3 text-left font-mono text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-lg border border-gray-300 dark:border-gray-700",children:"â†’ Skip to Group (no family)"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:m.map(e=>(0,s.jsxs)("button",{onClick:()=>{_(e),O("group")},className:`p-4 rounded-lg border-2 transition-all hover:scale-105 font-mono ${S?.id===e.id?"bg-yellow-100 dark:bg-yellow-900 border-yellow-600":"bg-gray-50 dark:bg-gray-800 border-gray-300 dark:border-gray-700 hover:border-yellow-400"}`,children:[s.jsx("div",{className:"text-xl font-bold",children:e.code}),(0,s.jsxs)("div",{className:"text-sm mt-1",children:["(",e.name,")"]})]},e.id))})]}),"group"===I&&k&&(0,s.jsxs)("div",{className:"mb-6 p-4 bg-white dark:bg-gray-900 rounded-lg border-2 border-green-500",children:[s.jsx("h3",{className:"font-mono font-bold mb-4",children:"Select or Create Group:"}),(0,s.jsxs)("div",{className:"grid grid-cols-3 md:grid-cols-4 gap-3",children:[x.map(e=>(0,s.jsxs)("button",{onClick:()=>{E(e),P(String(e.group_num).padStart(2,"0")),O("task")},className:`p-3 rounded-lg border-2 transition-all hover:scale-105 font-mono ${C?.group_num===e.group_num?"bg-green-100 dark:bg-green-900 border-green-600":"bg-gray-50 dark:bg-gray-800 border-gray-300 dark:border-gray-700 hover:border-green-400"}`,children:[s.jsx("div",{className:"text-lg font-bold",children:String(e.group_num).padStart(2,"0")}),s.jsx("div",{className:"text-xs truncate",children:e.name}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:[e.task_count||0," tasks"]})]},`${e.group_num}`)),(0,s.jsxs)("button",{onClick:()=>{P(String(Math.max(...x.map(e=>e.group_num),-1)+1).padStart(2,"0")),O("task")},className:"p-3 rounded-lg border-2 border-dashed border-gray-400 hover:border-green-400 transition-all font-mono",children:[s.jsx("div",{className:"text-2xl text-gray-400",children:"+"}),s.jsx("div",{className:"text-xs",children:"New"})]})]})]}),"task"===I&&$&&(0,s.jsxs)("div",{className:"mb-6 p-4 bg-white dark:bg-gray-900 rounded-lg border-2 border-green-500",children:[s.jsx("h3",{className:"font-mono font-bold mb-4",children:"Enter Task Number:"}),s.jsx("input",{type:"text",value:T,onChange:e=>q(e.target.value.replace(/\D/g,"").slice(0,2)),placeholder:"##",className:"w-24 px-4 py-3 text-xl font-mono text-center bg-gray-50 dark:bg-gray-800 border-2 border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:border-green-500",maxLength:2}),2===T.length&&s.jsx("button",{onClick:G,className:"ml-4 px-6 py-3 bg-green-600 text-white font-mono rounded-lg hover:bg-green-700 transition-colors",children:"CREATE TASK"})]}),(0,s.jsxs)("div",{className:"mt-8 p-4 bg-gray-100 dark:bg-gray-800 rounded-lg",children:[s.jsx("h3",{className:"font-mono font-bold mb-3",children:"Recent Tasks:"}),s.jsx("div",{className:"space-y-2",children:p.slice(0,5).map(r=>(0,s.jsxs)("div",{onClick:()=>e.push(`/t/${r.base_code?.toLowerCase()}`),className:"flex items-center p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded cursor-pointer font-mono text-sm",children:[s.jsx("span",{className:"text-gray-500",children:">"}),s.jsx("span",{className:"ml-2 font-bold",children:r.base_code}),(0,s.jsxs)("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:['"',r.title,'"']})]},r.id))})]})]})})}},6378:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var s=t(5344),a=t(8428),l=t(3729);let o=[{key:"C",label:"Create",path:"/"},{key:"B",label:"Browse",path:"/browse"},{key:"T",label:"Todo",path:"/todo"},{key:"L",label:"Log",path:"/log"}];function n(){let e=(0,a.usePathname)(),r=(0,a.useRouter)(),[t,n]=(0,l.useState)(!1),[d,i]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{let e=()=>n(window.innerWidth<768);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,l.useEffect)(()=>{let e=e=>{(e.ctrlKey||e.metaKey)&&"k"===e.key&&(e.preventDefault(),i(!0)),d&&"Escape"===e.key&&i(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[d]),t)?(0,s.jsxs)(s.Fragment,{children:[s.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-gray-900 border-t border-gray-700 z-50",children:(0,s.jsxs)("div",{className:"flex justify-around items-center h-16",children:[o.map(t=>{let a=e===t.path;return(0,s.jsxs)("button",{onClick:()=>r.push(t.path),className:`flex flex-col items-center justify-center w-full h-full transition-colors ${a?"text-yellow-400 bg-gray-800":"text-gray-400 hover:text-gray-200 hover:bg-gray-800"}`,children:[s.jsx("span",{className:"text-2xl font-mono font-bold",children:t.key}),s.jsx("span",{className:"text-xs mt-1",children:t.label}),a&&s.jsx("span",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-yellow-400"})]},t.key)}),(0,s.jsxs)("button",{onClick:()=>i(!0),className:"flex flex-col items-center justify-center w-full h-full text-gray-400 hover:text-gray-200 hover:bg-gray-800 transition-colors",children:[s.jsx("span",{className:"text-2xl font-mono font-bold",children:"S"}),s.jsx("span",{className:"text-xs mt-1",children:"Search"})]})]})}),s.jsx("div",{className:"h-16"})," "]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("nav",{className:"fixed left-0 top-0 h-full w-64 bg-gray-900 border-r border-gray-700 z-50",children:(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-mono font-bold text-yellow-400",children:"ATOL_"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1 font-mono",children:"SEMANTIC LEDGER"})]}),s.jsx("div",{className:"space-y-2",children:o.map(t=>{let a=e===t.path;return(0,s.jsxs)("button",{onClick:()=>r.push(t.path),className:`w-full text-left px-4 py-3 rounded-lg transition-all font-mono ${a?"bg-gradient-to-r from-blue-600 to-blue-700 text-white":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:[a&&s.jsx("span",{className:"mr-2",children:">"}),s.jsx("span",{className:"font-bold text-yellow-400",children:t.key}),s.jsx("span",{className:"ml-1",children:t.label.slice(1)})]},t.key)})}),s.jsx("div",{className:"my-6 border-t border-gray-700"}),(0,s.jsxs)("button",{onClick:()=>i(!0),className:"w-full text-left px-4 py-3 rounded-lg text-gray-400 hover:bg-gray-800 hover:text-white transition-all font-mono",children:[s.jsx("span",{className:"font-bold text-yellow-400",children:"S"}),s.jsx("span",{className:"ml-1",children:"earch"}),s.jsx("span",{className:"float-right text-xs bg-gray-800 px-2 py-1 rounded",children:"ctrl+k"})]})]})}),s.jsx("div",{className:"w-64"})," ",d&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-[100] flex items-start justify-center pt-32",children:(0,s.jsxs)("div",{className:"bg-gray-900 border border-gray-700 rounded-lg w-full max-w-2xl shadow-2xl",children:[s.jsx("div",{className:"p-4 border-b border-gray-700",children:s.jsx("input",{type:"text",placeholder:"Search tasks, codes, or commands...",className:"w-full bg-transparent text-white font-mono text-lg focus:outline-none",autoFocus:!0,onKeyDown:e=>{"Escape"===e.key&&i(!1)}})}),(0,s.jsxs)("div",{className:"p-4 text-gray-500 font-mono text-sm",children:[s.jsx("p",{children:"Type to search across all tasks and categories"}),s.jsx("p",{className:"mt-2",children:"Press ESC to close"})]})]})})]})}function d({children:e}){return(0,s.jsxs)("div",{className:"flex",children:[s.jsx(n,{}),s.jsx("main",{className:"flex-1",children:e})]})}},2829:(e,r,t)=>{"use strict";t.d(r,{O:()=>s});let s=(0,t(9072).eI)("https://ofiindxmfiptivijhbdi.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9maWluZHhtZmlwdGl2aWpoYmRpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgzOTU4MjEsImV4cCI6MjA3Mzk3MTgyMX0.P9Qmhha1EL7X0uQ8CiUF6LXWqBCQt1pJwg3cmcHkfR0")},6680:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i,metadata:()=>d});var s=t(5036);t(7272);let a=(0,t(6843).createProxy)(String.raw`/workspaces/ZQLC/components/ClientLayout.tsx`),{__esModule:l,$$typeof:o}=a,n=a.default,d={title:"ATOL - Semantic Task Ledger",description:"Task management system with structured semantic codes"};function i({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:"min-h-screen bg-[#F8F7F4] dark:bg-[#0A0A0B] text-[#1A1A1A] dark:text-[#E8E6E3]",children:s.jsx(n,{children:e})})})}},751:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>l,__esModule:()=>a,default:()=>o});let s=(0,t(6843).createProxy)(String.raw`/workspaces/ZQLC/app/page.tsx`),{__esModule:a,$$typeof:l}=s,o=s.default},7272:()=>{}};var r=require("../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[44,477],()=>t(9319));module.exports=s})();