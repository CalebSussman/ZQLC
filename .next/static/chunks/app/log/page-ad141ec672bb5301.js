(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[19],{6153:function(e,t,a){Promise.resolve().then(a.bind(a,588))},588:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var r=a(3827),s=a(4090),n=a(5922);function d(){let[e,t]=(0,s.useState)("day"),[a,d]=(0,s.useState)(new Date),[l,c]=(0,s.useState)([]),[i,o]=(0,s.useState)([]),[g,m]=(0,s.useState)(!1),[x,u]=(0,s.useState)(""),[h,p]=(0,s.useState)("P"),[b,y]=(0,s.useState)(""),[j,N]=(0,s.useState)("");async function D(){let t,r;"day"===e?(t=new Date(a),r=new Date(a)):"week"===e?((t=new Date(a)).setDate(t.getDate()-t.getDay()),(r=new Date(t)).setDate(r.getDate()+6)):(t=new Date(a.getFullYear(),a.getMonth(),1),r=new Date(a.getFullYear(),a.getMonth()+1,0));let{data:s}=await n.O.from("calendar_entries").select("*").gte("date",t.toISOString().split("T")[0]).lte("date",r.toISOString().split("T")[0]).order("date").order("start_time");c(s||[])}async function f(){let e=a.getFullYear(),t=a.getMonth(),{data:r}=await n.O.from("cards").select("*").or("start_date.gte.".concat(e,"-").concat(String(t+1).padStart(2,"0"),"-01,end_date.lte.").concat(e,"-").concat(String(t+1).padStart(2,"0"),"-31")).order("start_date");o(r||[])}async function v(){if(!x||!j){alert("Task code and start time are required");return}await n.O.from("calendar_entries").insert({task_code:x.toUpperCase(),status_code:h,work_description:b,date:a.toISOString().split("T")[0],start_time:j,is_parallel:!1,track_number:1}),D(),m(!1),u(""),y(""),N("")}function w(t){let r=new Date(a);"day"===e?r.setDate(r.getDate()+("next"===t?1:-1)):"week"===e?r.setDate(r.getDate()+("next"===t?7:-7)):r.setMonth(r.getMonth()+("next"===t?1:-1)),d(r)}return(0,s.useEffect)(()=>{D(),"month"===e&&f()},[a,e]),(0,r.jsx)("div",{className:"min-h-screen bg-[#F8F7F4] dark:bg-[#0A0A0B] p-8",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-8 pb-6 border-b-4 border-gray-900 dark:border-gray-300",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between font-mono",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold",children:(()=>{if("day"===e)return a.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",weekday:"long"}).toUpperCase();if("week"!==e)return a.toLocaleDateString("en-US",{year:"numeric",month:"long"}).toUpperCase();{let e=new Date(a);e.setDate(e.getDate()-e.getDay());let t=new Date(e);return t.setDate(t.getDate()+6),"WEEK ".concat(Math.ceil((e.getDate()+6)/7),": ").concat(e.toLocaleDateString("en-US",{month:"short",day:"numeric"}).toUpperCase(),"-").concat(t.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}).toUpperCase())}})()}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("button",{onClick:()=>w("prev"),className:"text-2xl",children:"[<]"}),(0,r.jsx)("button",{onClick:()=>d(new Date),className:"px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded",children:"TODAY"}),(0,r.jsx)("button",{onClick:()=>w("next"),className:"text-2xl",children:"[>]"}),(0,r.jsxs)("button",{className:"px-3 py-1 bg-blue-600 text-white rounded",onClick:()=>{alert("Generating ".concat("day"===e?"SOA":"week"===e?"SOWA":"SOMA","..."))},children:["[","day"===e?"SOA":"week"===e?"SOWA":"SOMA","]"]})]})]}),(0,r.jsx)("div",{className:"mt-4 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:(0,r.jsx)("div",{className:"h-full bg-gradient-to-r from-yellow-400 to-yellow-500",style:{width:"60%"}})})]}),(0,r.jsxs)("div",{className:"mb-8",children:["day"===e&&(0,r.jsx)(()=>{let e=Array.from({length:16},(e,t)=>t+7);return(0,r.jsx)("div",{className:"space-y-2 font-mono",children:e.map(e=>{let t=String(e).padStart(2,"0");return["00","15","30","45"].map(a=>{let s="".concat(t,":").concat(a),n=l.find(e=>e.start_time.startsWith(s));return(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"w-20 text-gray-500",children:s}),(0,r.jsx)("div",{className:"flex-1",children:(9===e||10===e||12===e)&&"00"===a?(0,r.jsx)("div",{className:"h-px bg-gradient-to-r from-yellow-400 to-yellow-500"}):n?(0,r.jsx)("div",{className:"p-2 rounded ".concat("P"===n.status_code?"bg-yellow-100 dark:bg-yellow-900/20":"C"===n.status_code?"bg-green-100 dark:bg-green-900/20":"bg-gray-100 dark:bg-gray-800"),children:"R"===n.status_code||"D"===n.status_code?(0,r.jsxs)("span",{className:"text-sm",children:["• ",n.start_time," ",n.task_code," [",n.status_code,"] ",n.work_description]}):(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("span",{className:"text-2xl mr-2",children:"P"===n.status_code?"███":"▓▓▓"}),(0,r.jsxs)("span",{children:[n.task_code," [",n.status_code,"]: ",n.work_description]})]})}):(0,r.jsx)("div",{className:"h-px bg-gray-300 dark:bg-gray-700"})})]},s)})}).flat()})},{}),"week"===e&&(0,r.jsx)(()=>{let e=["MON","TUE","WED","THU","FRI","SAT","SUN"],t=Array.from({length:10},(e,t)=>t+8);return(0,r.jsxs)("div",{className:"font-mono",children:[(0,r.jsxs)("div",{className:"grid grid-cols-8 gap-2 mb-4",children:[(0,r.jsx)("div",{}),e.map((e,t)=>{let s=new Date(a);return s.setDate(s.getDate()-s.getDay()+t+1),(0,r.jsxs)("div",{className:"text-center font-bold",children:[e,(0,r.jsx)("br",{}),s.getDate()]},e)})]}),(0,r.jsx)("div",{className:"border-t-2 border-gray-400 dark:border-gray-600 pt-2",children:t.map(t=>(0,r.jsxs)("div",{className:"grid grid-cols-8 gap-2 mb-2",children:[(0,r.jsx)("div",{className:"text-right pr-2",children:String(t).padStart(2,"0")}),e.map((e,a)=>{let s=l.some(e=>{let r=parseInt(e.start_time.split(":")[0]),s=new Date(e.date).getDay();return r===t&&s===a+1});return(0,r.jsx)("div",{className:"h-8 flex items-center justify-center",children:s?(0,r.jsx)("span",{className:"text-2xl",children:"███"}):(0,r.jsx)("span",{className:"text-gray-300 dark:text-gray-700",children:"░░░"})},a)})]},t))})]})},{}),"month"===e&&(0,r.jsx)(()=>{let e=a.getFullYear(),t=a.getMonth(),s=new Date(e,t,1),n=new Date(e,t+1,0),d=s.getDay(),c=n.getDate();return(0,r.jsxs)("div",{className:"font-mono",children:[(0,r.jsx)("div",{className:"grid grid-cols-7 gap-2 mb-4",children:["SUN","MON","TUE","WED","THU","FRI","SAT"].map(e=>(0,r.jsx)("div",{className:"text-center font-bold p-2",children:e},e))}),Array.from({length:Math.ceil((c+d)/7)},(e,t)=>(0,r.jsx)("div",{className:"grid grid-cols-7 gap-2 mb-2",children:Array.from({length:7},(e,a)=>{let s=7*t+a-d+1;if(s<1||s>c)return(0,r.jsx)("div",{className:"p-4"},a);let n=i.find(e=>{let t=new Date(e.start_date).getDate(),a=e.end_date?new Date(e.end_date).getDate():null;return t===s||a===s}),o=l.some(e=>new Date(e.date).getDate()===s);return(0,r.jsxs)("div",{className:"p-2 border border-gray-300 dark:border-gray-700 rounded text-center",children:[(0,r.jsx)("div",{className:"font-bold",children:s}),(null==n?void 0:n.start_date)&&new Date(n.start_date).getDate()===s&&(0,r.jsx)("div",{className:"text-xs",children:"["}),(null==n?void 0:n.end_date)&&new Date(n.end_date).getDate()===s&&(0,r.jsx)("div",{className:"text-xs",children:"]"}),(0,r.jsx)("div",{className:"mt-1",children:o?"███":s<new Date().getDate()?"░░░":"???"})]},a)})},t)),(0,r.jsx)("div",{className:"mt-6 p-4 bg-gray-100 dark:bg-gray-800 rounded",children:(0,r.jsx)("div",{className:"text-sm",children:"[ = Start ] = Filed ███ = High ░░░ = Low"})})]})},{})]}),(0,r.jsxs)("div",{className:"flex justify-center space-x-4 font-mono",children:["day"===e&&(0,r.jsx)("button",{onClick:()=>m(!g),className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"[+ ADD ENTRY]"}),(0,r.jsx)("button",{onClick:()=>t("day"),className:"px-4 py-2 rounded ".concat("day"===e?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700"),children:"[DAY VIEW]"}),(0,r.jsx)("button",{onClick:()=>t("week"),className:"px-4 py-2 rounded ".concat("week"===e?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700"),children:"[WEEK VIEW]"}),(0,r.jsx)("button",{onClick:()=>t("month"),className:"px-4 py-2 rounded ".concat("month"===e?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700"),children:"[MONTH VIEW]"})]}),g&&(0,r.jsxs)("div",{className:"mt-8 p-4 bg-white dark:bg-gray-900 rounded-lg border-2 border-green-500",children:[(0,r.jsx)("h3",{className:"font-mono font-bold mb-4",children:"ADD ENTRY (TASK CODE REQUIRED)"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsx)("input",{type:"text",placeholder:"TASK CODE (e.g., WDA-12.03)",value:x,onChange:e=>u(e.target.value.toUpperCase()),className:"px-3 py-2 font-mono bg-gray-50 dark:bg-gray-800 border rounded"}),(0,r.jsxs)("select",{value:h,onChange:e=>p(e.target.value),className:"px-3 py-2 font-mono bg-gray-50 dark:bg-gray-800 border rounded",children:[(0,r.jsx)("option",{value:"R",children:"R - Received"}),(0,r.jsx)("option",{value:"P",children:"P - Pending"}),(0,r.jsx)("option",{value:"D",children:"D - Delivered"}),(0,r.jsx)("option",{value:"C",children:"C - Completed"})]}),(0,r.jsx)("input",{type:"time",value:j,onChange:e=>N(e.target.value),className:"px-3 py-2 font-mono bg-gray-50 dark:bg-gray-800 border rounded"}),(0,r.jsx)("input",{type:"text",placeholder:"Description",value:b,onChange:e=>y(e.target.value),className:"px-3 py-2 font-mono bg-gray-50 dark:bg-gray-800 border rounded"})]}),(0,r.jsxs)("div",{className:"mt-4 flex justify-end space-x-2",children:[(0,r.jsx)("button",{onClick:()=>m(!1),className:"px-4 py-2 bg-gray-400 text-white rounded",children:"Cancel"}),(0,r.jsx)("button",{onClick:v,className:"px-4 py-2 bg-green-600 text-white rounded",children:"Add Entry"})]})]})]})})}},5922:function(e,t,a){"use strict";a.d(t,{O:function(){return r}});let r=(0,a(7887).eI)("https://ofiindxmfiptivijhbdi.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9maWluZHhtZmlwdGl2aWpoYmRpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgzOTU4MjEsImV4cCI6MjA3Mzk3MTgyMX0.P9Qmhha1EL7X0uQ8CiUF6LXWqBCQt1pJwg3cmcHkfR0")}},function(e){e.O(0,[887,971,69,744],function(){return e(e.s=6153)}),_N_E=e.O()}]);